<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>

<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>

<body>

	<button onclick="getAjax()">1.get방식요청</button>
	<button onclick="getAjax2()">2.get방식요청</button>

	<button onclick="postAjax()">3.post방식요청</button>

	<br><hr><br> 
	id <input type="text" id="idvalue"> <br> 
	name <input type="text" id="namevalue"> <br>

	<script type="text/javascript">
	function getAjax2() {
		axios.get('step01', {
			params: {
				ID: document.getElementById("idvalue").value,
				name: document.getElementById("namevalue").value
			}
		})
		.then(function(res) {
			console.log(res);
			console.log(res.data);
			
		})
		.catch(function(err) {
			console.log("실패");
			console.log(err);
			
		})
		.then(function () {
			console.log("성공과 실패시 모두다 실행");
			
		});
			
			
	
	}
	
	
	
	
	//step02 - https://axios-http.com/kr/docs/example
	function getAjax() {
		axios.get('step01', {
		    params: {
		      ID: document.getElementById("idvalue").value,
		      name: document.getElementById("namevalue").value
		      
		    }
		  })
		  .then(function (response) {
		      console.log("성공");
			  console.log(response);
		  })
		  .catch(function (error) {
		      console.log("실패");
			  console.log(error);
		  })
		  .then(function () {
		    // 항상 실행되는 영역
		    	console.log("항상실행");
		  });  

		
	}
	
	
	
	
	//step01 - https://axios-http.com/kr/docs/example
/* 	function getAjax() { //응답완료 4 / 정상응답 200번 의미
		// 성공 핸들링
		axios.get('step01?ID=12345')
		.then(function (response){
		console.log("성공");
		console.log(response);	
	})
	.catch(function (error){ //응답완료 4 / 200 즉 정상 응답이 아닌경우
		// 에러 핸들링
		console.log("실패");
		console.log(error);
	})
	.then(function (){ //java의 finally와 흡사
		// 항상 실행되는 영역
		console.log("항상 실행");
	});
} */
		
	function postAjax(){
		alert(1);
		
		axios.post('step01',{}, {
		    params:{
			ID: 'Fred',
		    name: 'playdata',
		    }
		  })
		  .then(function (response) {
		    console.log(response.data);
		  })
		  .catch(function (error) {
		    console.log(error);
		  });
	}
	
	</script>


</body>
</html>